# Поток событий
---

# Содержание
1 [Актёры](#actors)  
2 [Варианты использования](#use_case)  
2.1 [Войти на сайт](#enter_the_site)  
2.2 [Зарегистрироваться](#register)  
2.3 [Войти в свою учётную запись](#log_in_to_account)  
2.4 [Загрузить заметки пользователя](#load_notes)  
2.5 [Просмотреть информацию о сайте](#view_information_about_the_site)  
2.6 [Редактировать аккаунт](#accaunt)  
2.7 [Найти заметку по имени](#find_note_by_name)  
2.8 [Добавить новую заметку](#add_note)  
2.9 [Удалить заметку](#delete_note)  
2.10 [Просмотреть заметку](#look_note)  
2.11 [Редактировать заметку](#change_note)  
2.12 [Выйти из аккаунта](#log_out_from_account)  


<a name="actors"/>

# 1 Актёры

| Актёр | Описание |
|:--|:--|
| Пользователь | Человек, использующий систему |
| Анонимный пользователь | Пользователь, который использует сайт без учётной записи |
| Зарегистрированный пользователь | Пользователь, который создал учётную запись на сайте |
| База заметок | База данных, в которой храняться все заметки пользователей|

<a name="use_case"/>

# 2 Варианты использования

<a name="enter_the_site"/>

## 2.1 Войти на сайт

**Описание.** Вариант использования "Войти на сайт" позволяет пользователю войти на сайт.  
**Основной поток.**
1. Вариант использования начинается, когда пользователь открывает главную страничку сайта;
2. Сайт отображает возможные способы входа: [войти в свой аккаунт](#log_in_to_account), [зарегистрироваться](#register);
3. Пользователь выбирает один из способов входа;
4. Выполняется вариант использования, связанный с выбранным способом входа на сайт;
5. Вариант использования завершается.

<a name="register"/>

## 2.2 Зарегистрироваться

**Описание.** Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись на сайте.  
**Предусловия.** Пользователь выбрал способ "Зарегистрироваться" для входа в приложение или анонимный пользователь выразил желание зарегистрироваться в приложении, выбрав пункт меню "Зарегистрироваться".  
**Основной поток.**
1. Сайт отображает окно регистрации, в котором запрашивает у пользователя ввод имени;
2. Пользователь вводит своё имя;
3. Сайт проверят введённое имя на совпадение и именами уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток А1;
4. Пользователь вводит свой пароль;
5. Сайт создает файл профиля пользователя;
6. Сайт переводит пользователя в его аккаунт к [редактированию аккаунта](#accaunt);
7. Вариант использования завершается.

**Альтернативный поток А1.**
1. Сайт сообщает пользователю, что пользователь с таким именем уже существует;
2. Сайт запрашивает у пользователя ввод псевдонима;
3. Возврат к п.2 основного потока.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до подтверждения ввода имени. В случае отмены выполняется альтернативный поток А2.

**Альтернативный поток А2.**
1. Сайт возвращает пользователя на окно [входа на сайт](#enter_the_site);
2. Вариант использования завершается досрочно.

<a name="log_in_to_account"/>

## 2.3 Войти в свою учётную запись

**Описание.** Вариант использования "Войти в свою учётную запись" позволяет пользователю войти в учётную запись.  
**Предусловия.** Пользователь выбрал способ "Войти в свою учётную запись" для входа в приложение.  
**Основной поток.**
1. Сайт отображает окно входа в учётную запись;
2. Пользователь вводит своё имя(псевдоним);
3. Пользователь вводит свой пароль;
4. Сайт проверяет наличие пользователя в системе. Если такого пользователя нет, выполняется альтернативный поток А3;
5. Сайт проверяет совпадение введеного пароля с соответствующим в системе. Если пароли не совпали, выполняется альтернативный поток А4;
6. Сайт переводит пользователя в его аккаунт к [редактированию аккаунта](#accaunt);
7. Вариант использования завершается.

**Альтернативный поток А3.**
1. Сайт сообщает об отсутствии пользователя в системе;
2. Возврат к п.2 основного потока.

**Альтернативный поток А4.**
1. Сайт сообщает о неправильном вводе пароля;
2. Возврат к п.3 основного потока.

**Дополнительная информация.** Пользователь имеет возможность отменить действие до подтверждения ввода имени. В случае отмены выполняется альтернативный поток А5.

**Альтернативный поток А5.**
1. Сайт возвращает пользователя на окно [входа на сайт](#enter_the_site);
2. Вариант использования завершается досрочно.

<a name="load_notes"/>

## 2.4 Загрузить заметки пользователя

**Описание.** Вариант использования "Загрузить заметки пользователя" загружает информацию из базы заметок.  
**Предусловия.** Пользователь вошёл в свою учетную запись на сайте.  
**Основной поток.**
1. Сайт получает список заметок, хранящихся в базе данных;
2. Сайт отображает заметки из списка в таблице аккаунта пользователя;
3. Вариант использования завершается.

**Поток ошибки Е1.**
1. Сайт сообщает пользователю об отсутствии подключения к Интернету и предлагает список доступных действий: повторить попытку, отменить загрузку;
2. Если пользователь запрашивает повторить попытку, возврат к п.3 основного потока;
3. Вариант использования завершается.

<a name="view_information_about_the_site"/>

## 2.5 Просмотреть информацию о сайте

**Описание.** Вариант использования "Просмотреть подробную информацию" открывает окошко с общими сведениями о сайте.  
**Предусловия.** Пользователь вошёл на сайт.  
**Основной поток.**
1. Вариант использования начинается, когда пользователь нажимает на значок справки кликом;
2. Сайт открывает вспомогательное окошко с общими сведениями о сайте;
3. Вариант использования завершается.

<a name="accaunt"/>

## 2.6 Редактировать аккаунт

**Описание.** Вариант использования "Редактировать аккаунт" позволяет зарегистрированному пользователю выполнять операции со своими записями.  
**Предусловия.** Пользователь зарегистрирован в приложении и вошёл в него, а также успешно прошла операция [загрузки заметок пользователя](#load_notes).  
**Основной поток.**
1. Вариант использования начинается, когда загружается окошко аккаунта пользователя;
2. Сайт отображает окно редактирования заметок, в котором предлагает пользователь может либо выбрать одно из действий: [найти заметку по имени](#find_note_by_name), [добавить новую заметку](#add_note), либо выбрать заметку из таблицы заметок и выбрать одно из действий: [удалить заметку](#delete_note), [просмотреть заметку](#look_note), [редактировать заметку](#change_note), либо [выйти из аккаунта](#log_out_from_account).
3. Вариант использования завершается.

<a name="find_note_by_name"/>

## 2.7 Найти заметку по имени

**Описание.** Вариант использования "Найти заметку по имени" позволяет зарегистрированному пользователю найти заметку по её имени.  
**Предусловия.** Зарегистрированный пользователь выбрал "Найти заметку по имени" в редакторе аккаунта.  
**Основной поток.**
1. Пользователь вводит в строку поиска имя искомой заметки;
2. Сайт ищет и выделяет в таблице соответствующую заметку. Если такой заметки нет, выполняется альтернативный поток А6;
3. Вариант использования завершается.

**Альтернативный поток А6.**
1. Сайт сообщает пользователю об отсутствии заметки с таким именем;
2. Возврат к п.1 основного потока.

<a name="add_note"/>

## 2.8 Добавить новую заметку

**Описание.** Вариант использования "Добавить новую заметку" позволяет зарегистрированному пользователю добавить новую заметку.  
**Предусловия.** Зарегистрированный пользователь выбрал "Добавить новую заметку" в редакторе аккаунта.  
**Основной поток.**
1. Сайт создаёт пустую заметку;
2. Сайт открывает пользователю редактор заметок;
3. Пользователь вводит имя заметки;
4. Пользователь вводит содержимое заметки;
5. Пользователь нажимает "Изменить заметку";
6. Сайт проверяет наличие заметки с таким именем. Если заметка с таким именем уже существует, выполнятся альтернативный поток А7;
7. Вариант использования завершается.

**Альтернативный поток А7.**
1. Сайт сообщает пользователю о существовании заметки с таким же именем;
2. Возврат к п.3 основного потока.

<a name="delete_note"/>

## 2.9 Удалить заметку

**Описание.** Вариант использования "Удалить заметку" позволяет зарегистрированному пользователю удалить выбранную заметку.  
**Предусловия.** Зарегистрированный пользователь выбрал заметку в редакторе аккаунта и действие "Удалить заметку".  
**Основной поток.**
1. Сайт открывает вспомогательное окошко, где пользователь должен подтвердить удаление заметки: ввести имя удаляемой заметки;
2. Пользователь вводит имя заметки;
3. Сайт проверяет на совпадение введеное имя и имя заметки. Если имена не совпадают, выполняется альтернативный поток А8;
4. Сайт удаляет заметку;
5. Сайт сообщает пользователю об успешном удалении;
6. Вариант использования завершается.

**Альтернативный поток А8.**
1. Сайт сообщает пользователю об ошибке введеного имени;
2. Возврат к п.6 основного потока.

<a name="look_note"/>

## 2.10 Просмотреть заметку

**Описание.** Вариант использования "Просмотреть заметку" позволяет зарегистрированному пользователю просмотреть заметку.  
**Предусловия.** Зарегистрированный пользователь выбрал заметку в редакторе аккаунта и действие "Просмотреть заметку".  
**Основной поток.**
1. Сайт открывает заметку в отдельном окне с подробной информацие о ней;
2. Пользователь выбирает пункт выйти из просмотра заметок;
3. Сайт возвращает пользователя в редактор аккаунта;
4. Вариант использования завершается.

**Дополнительная информация.** Пользователь имеет возможность редактировать заметку. В этом случае выполняется альтернативный поток А9.

**Альтернативный поток А9.**
1. Сайт перенаправляет пользователя на [редактирование заметки](#accaunt);
2. Вариант использования завершается досрочно.

<a name="change_note"/>

## 2.11 Редактировать заметку

**Описание.** Вариант использования "Редактировать заметку" позволяет зарегистрированному пользователю редактировать заметку.  
**Предусловия.** Зарегистрированный пользователь выбрал заметку в редакторе аккаунта и действие "Редактировать заметку".  
**Основной поток.**
1. Сайт открывает заметку в редакторе заметок;
2. Пользователь меняет имя заметки;
3. Пользователь меняет содержимое заметки;
4. Пользователь нажимает "Изменить заметку";
5. Сайт проверяет наличие заметки с таким именем. Если заметка с таким именем уже существует, выполнятся альтернативный поток А10;
6. Вариант использования завершается.

**Альтернативный поток А10.**
1. Сайт сообщает пользователю о существовании заметки с таким же именем;
2. Возврат к п.2 основного потока.

<a name="log_out_from_account"/>

## 2.12 Выйти из аккаунта

**Описание.** Вариант использования "Выйти из аккаунта" позволяет зарегистрированному пользователю выйти из учётной записи.  
**Предусловия.** Зарегистрированный пользователь выбрал "Выйти из аккаунта" в редакторе аккаунта.   
**Основной поток.**
1. Сайт возвращает пользователя на окно [входа на сайт](#enter_the_site);
2. Вариант использования завершается.
